# Техническое задание

## 1. Общие требования
- Использование HTML/CSS и шаблонизаторов для создания пользовательского интерфейса
- Реализация клиент-серверной архитектуры с использованием HTTP протокола
- Хранение данных в JSON файлах

## 2. Функциональные требования

### 2.1. Аутентификация и авторизация
- Регистрация новых пользователей
- Вход в систему (логин/пароль)
- Два уровня доступа: ADMIN и USER
- Возможность выхода из системы

### 2.2. Функционал для USER
- Просмотр доступных тестов по темам
- Прохождение выбранного теста
- Просмотр результатов пройденных тестов
- Просмотр истории своих тестирований

### 2.3. Функционал для ADMIN
- Все возможности USER
- Создание новых тестов
- Редактирование существующих тестов
- Удаление тестов
- Просмотр статистики по тестам

### 2.4. Структура теста
- Название теста
- Тема
- Список вопросов
- Для каждого вопроса:
- Текст вопроса
- Варианты ответов
- Правильный ответ

## 3. Технические требования

### 3.1. Backend (Java)
- Использование Java Servlets
- Реализация MVC архитектуры
- Обработка HTTP запросов
- Валидация входных данных
- Работа с файловой системой для хранения данных

### 3.2. Frontend (HTML/CSS)
- Формы для:
    - Регистрации/авторизации
    - Создания/редактирования тестов
    - Прохождения тестов
- Навигационное меню
- Таблицы для отображения результатов

### 3.3. Безопасность
- Валидация входных данных
- Безопасное хранение паролей
- Контроль доступа к ресурсам(endpoint, templates)

## 4. Структура хранения данных

### 4.1. Файловая структура
```
   data/
   ├── users/
   │   └── users.json
   ├── tests/
   │   ├── test1.json
   │   ├── test2.json
   │   └── ...
   └── results/
       └── results.json
```   

### 4.2. Формат JSON файлов
- **users.json**
```json
{
  "users": [
    {
      "id": "1",
      "username": "admin",
      "password": "hashed_password",
      "role": "ADMIN"
    },
    {
      "id": "2",
      "username": "user",
      "password": "hashed_password",
      "role": "USER"
    }
  ]
}
```
- **test1.json**
```json
{
  "id": "1",
  "title": "Java Basics",
  "topic": "Programming",
  "created_by": "1",
  "questions": [
    {
      "id": "1",
      "text": "What is Java?",
      "answers": [
        {
          "id": "1",
          "text": "Programming language",
          "isCorrect": true
        },
        {
          "id": "2",
          "text": "Coffee",
          "isCorrect": false
        }
      ]
    }
  ]
}
```
- **results.json**
```json
{
  "results": [
    {
      "id": "1",
      "user_id": "2",
      "test_id": "1",
      "date": "2024-03-20T10:30:00",
      "answers": [
        {
          "question_id": "1",
          "selected_answer_id": "1",
          "is_correct": true
        }
      ]
    }
  ]
}
```

## 5. API Endpoints

### 5.1. Аутентификация
- POST /register - регистрация
- POST /login - вход
- POST /logout - выход
### 5.2. Тесты
- GET /tests - список тестов
- GET /tests/{id} - получение теста
- POST /tests - создание теста (ADMIN)
- PUT /tests/{id} - обновление теста (ADMIN)
- DELETE /tests/{id} - удаление теста (ADMIN)
### 5.3. Результаты
- POST /tests/{id}/submit - отправка ответов
- GET /results - история результатов
- GET /results/{id} - детали результата

## 6. Дополнительные требования
- Таймер для прохождения теста
- *Страница администратора со статистикой (количество пройденных тестов)
- **Добавить возможность создания тестов с множественным выбором ответов

Если сами сомневаетесь в логике метода, то пишем unit-test